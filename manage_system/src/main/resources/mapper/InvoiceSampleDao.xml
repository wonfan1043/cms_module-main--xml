<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.inext.manage_system.dao.invoice.InvoiceSampleDao">

    <!-- サンプル存在チェック -->
    <select id="searchInvoiceSampleByCorpId" parameterType="int">
        SELECT invoice_no
        FROM invoice_sample
        WHERE corp_id = #{corpId}
    </select>

    <!-- サンプル作成 -->
    <insert id="createSample" parameterType="com.inext.manage_system.model.invoice.InvoiceSample">
        INSERT INTO invoice_sample (corp_id, invoice_no, creater, create_datetime)
        VALUES (#{corpId}, #{invoiceNo}, #{creater}, #{createDateTime})
    </insert>

    <!-- サンプル更新 -->
    <update id="updateSample" parameterType="com.inext.manage_system.model.invoice.InvoiceSample">
        UPDATE invoice_sample
        SET invoice_no = #{invoiceNo}, updater = #{updater}, update_datetime = #{updateDateTime}
        WHERE corp_id = #{corpId}
    </update>
    
    <!-- サンプル削除 -->
    <update id="deleteSample" parameterType="com.inext.manage_system.model.invoice.InvoiceSample">
        UPDATE invoice_sample
        SET updater= #{updater}, updateDateTime = #{updateDateTime}, `delete` = 1
        WHERE corp_id = #{corpId}
    </update>

</mapper>